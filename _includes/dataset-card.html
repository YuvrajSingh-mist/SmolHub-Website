{% include base_path %}

{% if post.id %}
  {% assign title = post.title | markdownify | remove: "<p>" | remove: "</p>" %}
{% else %}
  {% assign title = post.title %}
{% endif %}

{% assign dataset_id = post.title | slugify %}
{% assign repo_url = post.repository_url | default: "https://github.com/YuvrajSingh-mist/Datasets" %}

<div class="model-card">
  <div class="model-card__image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
    <span>{{ title }}</span>
  </div>
  
  <div class="model-card__content">
    <h3 class="model-card__title">
      {{ title }}
    </h3>
    
    {% if post.excerpt %}
    <div class="model-card__excerpt">
      {{ post.excerpt | markdownify | strip_html | truncatewords: 25 }}
    </div>
    {% endif %}
    
    <div class="model-card__footer">
      <a href="{{ base_path }}{{ post.url }}" class="model-details-btn" rel="permalink">
        Dataset Details
      </a>
    </div>
  </div>
</div>

<script>
// Store static dataset data for detail pages
document.addEventListener('DOMContentLoaded', function() {
    if (!window.staticDatasetData) window.staticDatasetData = {};
    window.staticDatasetData['{{ dataset_id }}'] = {
        title: '{{ title }}',
        url: '{{ base_path }}{{ post.url }}',
        repoUrl: '{{ repo_url }}',
        content: `{{ post.content | strip_newlines | escape }}`
    };
});
</script>
