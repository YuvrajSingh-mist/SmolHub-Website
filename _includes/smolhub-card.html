{% include base_path %}

{% if post.id %}
  {% assign title = post.title | markdownify | remove: "<p>" | remove: "</p>" %}
{% else %}
  {% assign title = post.title %}
{% endif %}

{% assign smolhub_id = post.title | slugify %}
{% assign repo_url = post.github_url | default: "https://github.com/YuvrajSingh-mist/SmolHub" %}

<div class="model-card">
  <div class="model-card__image" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);">
    <span>{{ title }} ðŸŽ®</span>
  </div>
  
  <div class="model-card__content">
    <h3 class="model-card__title">
      {{ title }}
    </h3>
    
    {% if post.excerpt %}
    <div class="model-card__excerpt">
      {{ post.excerpt | markdownify | strip_html | truncatewords: 25 }}
    </div>
    {% endif %}
    
    <div class="model-card__footer">
      <a href="{{ base_path }}{{ post.url }}" class="model-details-btn" rel="permalink" style="background: linear-gradient(135deg, #ff6b6b, #ee5a52);">
        Explore Project
      </a>
    </div>
  </div>
</div>

<script>
// Store static smolhub data for detail pages
document.addEventListener('DOMContentLoaded', function() {
    if (!window.staticSmolhubData) window.staticSmolhubData = {};
    window.staticSmolhubData['{{ smolhub_id }}'] = {
        title: '{{ title }}',
        url: '{{ base_path }}{{ post.url }}',
        repoUrl: '{{ repo_url }}',
        content: `{{ post.content | strip_newlines | escape }}`
    };
});
</script>
